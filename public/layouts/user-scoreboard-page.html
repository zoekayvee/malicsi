<!-- <link rel="stylesheet" href="../css/scoreboard.css"> -->
<link rel="stylesheet" type="text/css" href="css/user-scoreboard.css" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<div id="main-wrapper" class="ui container">

    <div class="ui grid">

        <div id="sport-wrapper" class="four wide column">
            <div class="ui card" id="sidebar">
                <div ng-controller="eventController as event" ng-init="event.viewEventDetails()">
                    <h3>{{ event.event.event_name | uppercase }}</h3>
                    <br>
                </div>
                <div ng-repeat="x in UGSC.allSports track by $index">
                    <button class="tablink tab-active" ng-click="UGSC.openGame(x.sport_id)" ng-if="UGSC.sport_id_route == x.sport_id">
                        <h4 style="float:right">{{x.sport_name}}</h4>
                    </button>

                    <button class="tablink" ng-click="UGSC.openGame(x.sport_id)" ng-if="UGSC.sport_id_route != x.sport_id">
                        <h4 style="float:right" ng-if="UGSC.sport_id_route != x.sport_id">{{x.sport_name}}</h4>
                    </button>

                </div>
            </div>
        </div>

        <div ng-controller="userGameSchedController as UGSC" class="twelve wide column">
            <div class="center aligned column" ng-init="UGSC.getRanking()">
                <table class="ui celled table">
                    <h4 style="float:left"> Standings </h4>
                    <div style="float:right" ng-controller="gameController as game">
                        <div class="ui right floated small primary labeled icon button" ng-show="logged.userId == event.currentUserId || logged.userType=='admin'" ng-click="game.openModal('addGame-modal')">
                            <i class="add square icon"></i> Add Game
                        </div>
                        <br><br>

                        <div class="ui basic modal" id="addGame-modal">
                            <div class="ui icon header">
                                Add Game
                            </div>
                            <div class="ui form">
                                <div class="field" ng-controller="userEventController as UEC">
                                    <div>
                                        <label> Sport </label>
                                        <form class="ui">
                                            <select ng-model="game.addSportId" ng-options="z.sport_name for z in UEC.allSports">
                                            </select>
                                        </form>
                                    </div>
                                </div>
                                <div class="field">
                                    <div ng-controller="venueController as venue">
                                        <label> Venue </label>
                                        <form class="ui">
                                            <select ng-model="game.addVenueId" ng-options="z.venue_name for z in venue.allVenues">
                                            </select>
                                        </form>
                                    </div>
                                </div>

                                <div class="_field">
                                    <label>Date Start</label>
                                    <input type="text" placeholder="Date Start" ng-model="game.addDate">
                                </div>
                                <div class="_field">
                                    <label><br>Time Start</label>
                                    <input type="text" placeholder="Time Start" ng-model="game.addTime">
                                </div>
                                <div class="_field">
                                    <label><br>Referee</label>
                                    <input type="text" placeholder="Referee" ng-model="game.addReferee">
                                </div>
                                <div class="_field">
                                    <label><br>Duration</label>
                                    <input type="text" placeholder="Duration" ng-model="game.addDuration">
                                </div>
                            </div>
                            <div class="actions">
                                <div class="ui red basic cancel inverted button" ng-click="game.closeModal('addGame-modal')">
                                    Cancel
                                </div>
                                <div ng-click="game.addGameEvent();game.closeModal('addGame-modal');game.reload()" class="ui green ok inverted button">
                                    <i class="checkmark icon"></i> Yes
                                </div>
                            </div>
                        </div>
                    </div>


                    <thead>
                        <tr>
                            <th>Team</th>
                            <th>Win</th>
                            <th>Loss</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="y in UGSC.rankList">
                            <td>
                                <h4 class="ui image header">
                                    <img src="images/cas.jpg" class="ui mini rounded image">
                                    <div class="content">
                                        <div class="sub header" id="teamname"> {{y.team_name}} </div>
                                    </div>
                                </h4>
                            </td>
                            <td id="win">{{y.win}}</td>
                            <td id="loss">{{y.loss}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="center aligned column" ng-init="UGSC.viewGamesByEventSport()" id="scoreboardDetails">
                <h1 class="centered" class="sportsname"> {{x.sport_name}} </h1>
                <div id="scoreboardDetailsTable">
                    <table id="maintable" class="ui celled table">
                        <thead class="full-width">
                            <tr>
                                <th> Date </th>
                                <th> Start Time </th>
                                <th> End Time </th>
                                <th> Venue </th>
                                <th> Referee </th>
                                <th> Team1 </th>
                                <th> Team2 </th>
                                <th> Score </th>
                            </tr>
                        </thead>

                        <tbody>
                            <a href="">
                                <tr  ng-repeat="y in UGSC.allSportGames track by $index" ng-click="UGSC.viewGame(y.game_id)">
                                    <td id="date"> {{y.date_start|date : 'yyyy-mm-dd'}} </td>
                                    <td id="starttime"> {{y.date_start|date : 'yyyy-mm-dd'}} </td>
                                    <td id="endtime"> {{y.date_start|date : 'yyyy-mm-dd'}} </td>
                                    <td id="venue"> {{y.venue_name}} </td>
                                    <td id="referee"> {{y.referee}} </td>
                                    <td id="teamname"> {{y.team_name}}</td>
                                    <td id="teamname"> {{y.team_name_2}} </td>
                                    <td id="score" ng-init="UGSC.getScores(y);UGSC.getScores2(y);b=y.game_id"> {{UGSC.allScores[b]}}-{{UGSC.allScores2[b]}} </td>
                                </tr>
                            </a>
                        </tbody>
                    </table>

                    <div ng-if="UGSC.allSportGames==undefined">
                        THERE ARE CURRENTLY NO GAMES
                    </div>

                </div>
            </div>

        </div>
    </div>
</div>
