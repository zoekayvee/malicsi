<link rel='stylesheet' href='css/event.css'/>

<div id="main-wrapper">

	<div ng-controller="eventController as event" class="ui container">
		<table id="events" class="ui celled table">
			<tr>
				<th> Event </th>
				<th> Date Start </th>
				<th> Date End </th>
				<th> Open for registration? </th>
				<th> Options </th>
				<th> Options </th>
			</tr>

			<tbody ng-init = "event.viewClickedEvent()">
				<tr ng-repeat = "x in event.allEvents">

					<td>
					<button class = "ui button teal" >{{x.event_name}}</button>
					</td>
					<td>{{x.date_start}}</td>
					<td>{{x.date_end}}</td>
					<td>{{x.allow_reg == '1' ? 'Yes' : 'No'}}</td>

					<td>
					<button class = "ui button green" ng-click = "event.updateEvent()">Update</button>
					</td>
					<td>
					<button class = "ui button red" ng-click = "event.deleteEvent(x.event_id)">Delete</button>
					</td>


				</tr>


			</tbody>

	         <div class="ui form" ng-controller = "teamController as team">
                <div class="field">
                  	<label>Team name</label>
                    <input type="text" ng-model = "team.teamName" name="team_name">
                 </div>
                    <button class="ui button team" ng-click = "team.addTeam(event.eventId)">Enlist Team</button>
             </div>

			
		</table>
		 <div class="ui form" ng-repeat = "x in event.allEvents" >
                      <div class="fields">
                        <div class="field">
                          <label>Event name</label>
                          <input type="text" ng-model = "event.eventName" ng-init = "event.eventName = x.event_name" name="event_name">
                        </div>
                </div>
                <div class="fields">
                        <div class="field">
                          <label>Date Start</label>
                        	 <input type="text" ng-model = "event.dateStart" ng-init = "event.dateStart = x.date_start" name="event_name">
                        </div>
                </div>
                <div class="fields">
                        <div class="field">
                          <label>Date End</label>
                          <input type="text" ng-model = "event.dateEnd" ng-init = "event.dateEnd = x.date_end" name="event_name">
                        </div>
                </div>
                <div class="fields">
                    <div class="field">
                       <label>Open for registration?</label>
                       <form>
  							<input type="radio" name="register" ng-model = "event.allowReg" value="1" checked> Yes<br>
 							<input type="radio" name="register" ng-model = "event.allowReg" value="0"> No<br>
					  </form>
                    </div>
                </div>
	</div>


<!--	<table class="ui celled table" ng-controller = "sponsorController as sponsor">
=======
	<table class="ui celled table" ng-controller = "sponsorController as sponsor">
>>>>>>> 35685666bab80e71d58699cf1b4e683e1bcfceba
			<tr>
				<th> Sponsorships </th>
				<th>  </th>
			</tr>

			<tbody ng-init = "sponsor.getSponsorByEvent(event.eventId)">
				<tr ng-repeat = "x in sponsor.allSponsors">
					<td>{{x.sponsor_name}}</td>
					<td><button class = "ui red button" ng-click = "sponsor.deleteSponsor(x.sponsor_id)">Delete</button></td>
				</tr>
			</tbody>
		</table>

-->
<div class = "ui container" ng-controller = "sponsorController as sponsor">
	<form class = "ui" >
		<select name = "Sponsors" ng-init = "sponsor.viewAllSponsor()">
			<option ng-click = "sponsor.setSponsorId(undefined)">Sponsors</option>
			<option ng-repeat = "x in sponsor.allSponsors" value = "x.sponsor_id" ng-model = "sponsor.sponsorId"  ng-click="sponsor.setSponsorId(x.sponsor_id)">{{x.sponsor_name}}</option>

		</select>
	</form>
	<button ng-click = "sponsor.sponsorEvent()">ADD SPONSORSHIP</button>
	
	<table>
		<tr>
			<th>Sponsors</th>
		</tr>
		<tbody ng-init = "sponsor.getSponsorByEvent()">
			<tr ng-repeat = "x in sponsor.allEventSponsors">
				<td>{{x.sponsor_name}}</td>
				<td><button class = "ui red button" ng-click = "sponsor.deleteSponsorFromEvent(x.sponsor_id)">Remove Sponsor</button></td>
			</tr>
		</tbody>




	</table>


</div>

	<div ng-controller = "teamController as team">
			<table class="ui celled table" ng-init = "team.viewTeamPerEvent()">
			<tr>
				<th> Teams </th>
				<th>  </th>
				
			</tr>

			<tbody>
				<tr ng-repeat = "x in team.allTeams">

					<td>{{x.team_name}}</td>

					<td><button class = "ui teal button" ng-click="team.viewTeam(x.team_id)">{{x.team_name}}</button></</td>

					<td><button class = "ui red button" ng-click = "team.deleteTeamFromEvent(x.team_id)">Delete</button></td>
				</tr>
			</tbody>
		</table>
		


	</div>
</div>


<div ng-controller="userEventController as UEC">
	<table id="sports" class="ui celled table">
		<tr> <th> <h1> List of Sports </h1></th></tr>

		<tbody>
			<tr ng-repeat="x in UEC.allSports" ng-init="a=x.sport_id"> 
				<td ng-click="showGame[$index]=!showGame[$index]">
				{{x.sport_name}} 
					<div>
						<table class="ui single line table" ng-show="showGame[$index]">
							<thead>
			                    <tr>
			                    	<th> Game ID </th>
			                        <th> Date </th>
			                        <th> Time </th>
			                        <th> Venue </th>
			                    </tr>
			                </thead>
			                <tbody ng-init="UEC.viewGamesByEvent(x)">
			                    <tr ng-repeat="y in UEC.allGames[a-1]" ng-click="UEC.viewGame(y.game_id)">
			                        <td id="game"> {{y.game_id}} </tdQQQQ>	
			                        <td id="date"> {{y.date_start}} </td>
			                        <td id="time"> {{y.time_start}} </td>
			                        <td id="venue"> {{y.venue_name}} </td>
			                    </tr>
			                </tbody>
			            </table>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
	<br>ADD SPORT<br>
        Sport Name: <input type="text" ng-model="UEC.addSportName"><br>
        <button ng-click="UEC.attachSportToEvent()">ADD</button><br>
	<button ng-click="UEC.scoreboard()">SCOREBOARD</button>
</div>
