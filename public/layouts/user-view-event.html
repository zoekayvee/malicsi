<link rel='stylesheet' href='css/event.css'/>

<div id="main-wrapper">

	<div  ng-controller = "eventController as event" class="ui container">
		<table id="events" class="ui celled table">
			<tr>
				<th> Event </th>
				<th> Date Start </th>
				<th> Date End </th>
				<th> Open for registration? </th>
				<th> Options </th>
				<th> Options </th>
			</tr>

			<tbody ng-init = "event.viewClickedEvent()">
				<tr ng-repeat = "x in event.allEvents">

					<td>
					<button class = "ui button teal" >{{x.event_name}}</button>
					</td>
					<td>{{x.date_start}}</td>
					<td>{{x.date_end}}</td>
					<td>{{x.allow_reg == '1' ? 'Yes' : 'No'}}</td>

					<td>
					<button class = "ui button green" ng-click = "event.updateEvent()">Update</button>
					</td>
					<td>
					<button class = "ui button red" ng-click = "event.deleteEvent(x.event_id)">Delete</button>
					</td>


				</tr>


			</tbody>

	         <div class="ui form" ng-controller = "teamController as team">
                <div class="field">
                  	<label>Team name</label>
                    <input type="text" ng-model = "team.teamName" name="team_name">
                 </div>
                    <button class="ui button team" ng-click = "team.addTeam(event.eventId)">Enlist Team</button>
             </div>
            <div class="ui form" ng-controller = "sponsorController as sponsor">
                <div class="field">
                  	<label>Sponsor Name</label>
                    <input type="text" ng-model = "sponsor.sponsorName" >
                 </div>
                    <button class="ui button team" ng-click = "sponsor.addSponsor(event.eventId)">Add Sponsorship</button>
             </div>
			
		</table>
		 <div class="ui form" ng-repeat = "x in event.allEvents" >
                      <div class="fields">
                        <div class="field">
                          <label>Event name</label>
                          <input type="text" ng-model = "event.eventName" ng-init = "event.eventName = x.event_name" name="event_name">
                        </div>
                </div>
                <div class="fields">
                        <div class="field">
                          <label>Date Start</label>
                        	 <input type="text" ng-model = "event.dateStart" ng-init = "event.dateStart = x.date_start" name="event_name">
                        </div>
                </div>
                <div class="fields">
                        <div class="field">
                          <label>Date End</label>
                          <input type="text" ng-model = "event.dateEnd" ng-init = "event.dateEnd = x.date_end" name="event_name">
                        </div>
                </div>
                <div class="fields">
                    <div class="field">
                       <label>Open for registration?</label>
                       <form>
  							<input type="radio" name="register" ng-model = "event.allowReg" value="1" checked> Yes<br>
 							<input type="radio" name="register" ng-model = "event.allowReg" value="0"> No<br>
					  </form>
                    </div>
                </div>
	</div>

	<table class="ui celled table" ng-controller = "sponsorController as sponsor">
			<tr>
				<th> Sponsorships </th>
				<th>  </th>
			</tr>

			<tbody ng-init = "sponsor.getSponsorByEvent(event.eventId)">
				<tr ng-repeat = "x in sponsor.allSponsors">
					<td>{{x.sponsor_name}}</td>
					<td><button class = "ui red button" ng-click = "sponsor.deleteSponsor(x.sponsor_id)">Delete</button></td>
				</tr>
			</tbody>
		</table>
			
	<div ng-controller = "teamController as team">
			<table class="ui celled table" ng-init = "team.viewTeamPerEvent()">
			<tr>
				<th> Teams </th>
				<th>  </th>
				
			</tr>

			<tbody>
				<tr ng-repeat = "x in team.allTeams">
					<td><button class = "ui teal button" ng-click="team.viewTeam(x.team_id)">{{x.team_name}}</button></</td>
					<td><button class = "ui red button" ng-click = "team.deleteTeam(x.team_id)">Delete</button></td>
				</tr>
			</tbody>
		</table>
		


	</div>
</div>

</div>